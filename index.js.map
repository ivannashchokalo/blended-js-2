{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/render-tasks.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["export const refs = {\n    form: document.querySelector('#task-form'),\n    list: document.querySelector('.tasks-list'),\n}","const STORAGE_KEY = 'tasks';\n\nfunction getTasks() {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [];\n}\n\nfunction saveTask(task) {\n    const tasks = getTasks();\n    tasks.push(task);\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nfunction initTasks() {\n    const tasks = getTasks() ?? [];\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nfunction deleteTask(id) {\n    const tasks = getTasks();\n    const filteredTasks = tasks.filter(task => task.id !== id);\n\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredTasks));\n}\n\nexport default {\n    getTasks,\n    saveTask,\n    initTasks,\n    deleteTask,\n}","import { refs } from \"./refs\";\n\nexport function renderTasks(tasks) {\n  const markup = tasks.map(({ name, description, id }) =>\n        `<li class=\"task-list-item\">\n        <button class=\"task-list-item-btn\" data-id = \"${id}\">Delete</button>\n        <h3>${name}</h3>\n        <p>${description}</p>\n      </li>`\n    ).join('');\n\n    refs.list.innerHTML = markup;\n}","import { nanoid } from \"nanoid\";\nimport { refs } from \"./refs\";\nimport localStorageApi from \"./local-storage-api\";\nimport { renderTasks } from \"./render-tasks\";\n\nexport function onFormSubmit(e) {\n    e.preventDefault();\n\n    const name = e.target.elements.taskName.value.trim();\n    const desctiption = e.target.elements.taskDescription.value.trim();\n\n    if (!name || !desctiption) {\n        return alert('Заповніть всі поля');\n    };\n\n    const task = {\n        name,\n        desctiption,\n        id: nanoid(),\n    }\n\n    localStorageApi.saveTask(task);\n\n    const tasks = localStorageApi.getTasks();\n    renderTasks(tasks);\n\n    refs.form.reset();\n}\n\nexport function onTaskDelete(e) {\n    if (e.target.nodeName !== 'BUTTON') return;\n    \n    const id = e.target.dataset.id;\n    localStorageApi.deleteTask(id);\n\n    const tasks = localStorageApi.getTasks();\n    renderTasks(tasks);\n}","import { onFormSubmit, onTaskDelete } from \"./js/handlers\";\nimport { refs } from \"./js/refs\";\nimport localStorageApi from \"./js/local-storage-api\";\nimport { renderTasks } from \"./js/render-tasks\";\n\nlocalStorageApi.initTasks();\nrenderTasks(localStorageApi.getTasks());\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.list.addEventListener('click', onTaskDelete);"],"names":["refs","STORAGE_KEY","getTasks","data","saveTask","task","tasks","initTasks","deleteTask","id","filteredTasks","localStorageApi","renderTasks","markup","name","description","onFormSubmit","desctiption","nanoid","onTaskDelete"],"mappings":"svBAAO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,YAAY,EACzC,KAAM,SAAS,cAAc,aAAa,CAC9C,ECHMC,EAAc,QAEpB,SAASC,GAAW,CAChB,MAAMC,EAAO,aAAa,QAAQF,CAAW,EAC7C,OAAOE,EAAO,KAAK,MAAMA,CAAI,EAAI,CAAA,CACrC,CAEA,SAASC,EAASC,EAAM,CACpB,MAAMC,EAAQJ,IACdI,EAAM,KAAKD,CAAI,EAEf,aAAa,QAAQJ,EAAa,KAAK,UAAUK,CAAK,CAAC,CAC3D,CAEA,SAASC,GAAY,CACjB,MAAMD,EAAQJ,EAAU,GAAI,GAC5B,aAAa,QAAQD,EAAa,KAAK,UAAUK,CAAK,CAAC,CAC3D,CAEA,SAASE,EAAWC,EAAI,CAEpB,MAAMC,EADQR,IACc,OAAOG,GAAQA,EAAK,KAAOI,CAAE,EAEzD,aAAa,QAAQR,EAAa,KAAK,UAAUS,CAAa,CAAC,CACnE,CAEA,MAAeC,EAAA,CACX,SAAAT,EACA,SAAAE,EACA,UAAAG,EACA,WAAAC,CACJ,EC7BO,SAASI,EAAYN,EAAO,CACjC,MAAMO,EAASP,EAAM,IAAI,CAAC,CAAE,KAAAQ,EAAM,YAAAC,EAAa,GAAAN,CAAI,IAC7C;AAAA,wDACgDA,CAAE;AAAA,cAC5CK,CAAI;AAAA,aACLC,CAAW;AAAA,YAExB,EAAM,KAAK,EAAE,EAETf,EAAK,KAAK,UAAYa,CAC1B,CCPO,SAASG,EAAa,EAAG,CAC5B,EAAE,eAAc,EAEhB,MAAMF,EAAO,EAAE,OAAO,SAAS,SAAS,MAAM,OACxCG,EAAc,EAAE,OAAO,SAAS,gBAAgB,MAAM,OAE5D,GAAI,CAACH,GAAQ,CAACG,EACV,OAAO,MAAM,oBAAoB,EAGrC,MAAMZ,EAAO,CACT,KAAAS,EACA,YAAAG,EACA,GAAIC,EAAQ,CACf,EAEDP,EAAgB,SAASN,CAAI,EAE7B,MAAMC,EAAQK,EAAgB,WAC9BC,EAAYN,CAAK,EAEjBN,EAAK,KAAK,OACd,CAEO,SAASmB,EAAa,EAAG,CAC5B,GAAI,EAAE,OAAO,WAAa,SAAU,OAEpC,MAAMV,EAAK,EAAE,OAAO,QAAQ,GAC5BE,EAAgB,WAAWF,CAAE,EAE7B,MAAMH,EAAQK,EAAgB,WAC9BC,EAAYN,CAAK,CACrB,CChCAK,EAAgB,UAAS,EACzBC,EAAYD,EAAgB,SAAQ,CAAE,EAEtCX,EAAK,KAAK,iBAAiB,SAAUgB,CAAY,EACjDhB,EAAK,KAAK,iBAAiB,QAASmB,CAAY"}